<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Negotiating Profiles in HTTP</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Motivation">
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Terminology">
<link href="#rfc.section.1.3" rel="Chapter" title="1.3 High-level overview of solution">
<link href="#rfc.section.1.4" rel="Chapter" title="1.4 Notational Conventions">
<link href="#rfc.section.2" rel="Chapter" title="2 Related HTTP Headers">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Content-Type">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Accept">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Content-Location">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Link">
<link href="#rfc.section.3" rel="Chapter" title="3 New http Headers">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Accept-Profile Header Syntax">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Content-Profile Header Syntax">
<link href="#rfc.section.4" rel="Chapter" title="4 Content Negotiation">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Mechanisms">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Examples">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Accept-Profile HTTP Header Registration">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Content-Profile HTTP Header Registration">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content="xml2rfc version 2.14.1 - https://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Svensson, L. and R. Verborgh" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-svensson-accept-profile-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2017-25" />
  <meta name="dct.abstract" content="This document defines two new HTTP headers that enable User Agents and hosts to indicate and negotiate the profile used to represent a specific resource.  In this context, a profile is a document describing the structural and/or semantic constraints of a group of documents in addition to the syntactical interpretation provided by a media type.  Examples of profiles include Dublin Core Application Profiles, XML Schemata and RDF Shape Expressions. Further, it defines and registers the profile parameter for the HTTP Link header and suggests a best practice for the use of the new headers together with the Link header to perform content negotiation and point user agents to alternate representations." />
  <meta name="description" content="This document defines two new HTTP headers that enable User Agents and hosts to indicate and negotiate the profile used to represent a specific resource.  In this context, a profile is a document describing the structural and/or semantic constraints of a group of documents in addition to the syntactical interpretation provided by a media type.  Examples of profiles include Dublin Core Application Profiles, XML Schemata and RDF Shape Expressions. Further, it defines and registers the profile parameter for the HTTP Link header and suggests a best practice for the use of the new headers together with the Link header to perform content negotiation and point user agents to alternate representations." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Internet Engineering Task Force</td>
<td class="right">L. Svensson</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Deutsche Nationalbibliothek</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">R. Verborgh</td>
</tr>
<tr>
<td class="left">Expires: May 29, 2019</td>
<td class="right">Ghent University &#8211; imec</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">November 25, 2017</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Negotiating Profiles in HTTP<br />
  <span class="filename">draft-svensson-accept-profile-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines two new HTTP headers that enable User Agents and hosts to indicate and negotiate the profile used to represent a specific resource.  In this context, a profile is a document describing the structural and/or semantic constraints of a group of documents in addition to the syntactical interpretation provided by a media type.  Examples of profiles include Dublin Core Application Profiles, XML Schemata and RDF Shape Expressions. Further, it defines and registers the profile parameter for the HTTP Link header and suggests a best practice for the use of the new headers together with the Link header to perform content negotiation and point user agents to alternate representations.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of This Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at https://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 29, 2019.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2017 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<ul><li>1.1.   <a href="#rfc.section.1.1">Motivation</a>
</li>
<li>1.2.   <a href="#rfc.section.1.2">Terminology</a>
</li>
<li>1.3.   <a href="#rfc.section.1.3">High-level overview of solution</a>
</li>
<li>1.4.   <a href="#rfc.section.1.4">Notational Conventions</a>
</li>
</ul><li>2.   <a href="#rfc.section.2">Related HTTP Headers</a>
</li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Content-Type</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Accept</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Content-Location</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Link</a>
</li>
</ul><li>3.   <a href="#rfc.section.3">New http Headers</a>
</li>
<ul><li>3.1.   <a href="#rfc.section.3.1">Accept-Profile Header Syntax</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Content-Profile Header Syntax</a>
</li>
</ul><li>4.   <a href="#rfc.section.4">Content Negotiation</a>
</li>
<ul><li>4.1.   <a href="#rfc.section.4.1">Mechanisms</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Examples</a>
</li>
</ul><li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<ul><li>5.1.   <a href="#rfc.section.5.1">Accept-Profile HTTP Header Registration</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Content-Profile HTTP Header Registration</a>
</li>
</ul><li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Acknowledgements</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<ul><li>8.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a>
</li>
</ul><li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This document defines two new HTTP headers that enable User Agents (UAs) and hosts to indicate and negotiate the profile used to represent a specific resource.  On the Web, resources are identified with HTTP(S) URIs.  In many cases, it can be desired to have multiple representations of a resource to accomodate different UAs or use cases.  When a UA issues a GET request for a specific URI, the UA and the server negotiate which of the available representations best suit the UA's needs and capabilities.  Typically a UA specifies preferences by setting appropriate HTTP headers, e. g. Accept for media type, Accept-Language for content language or Accept-Charset for character encoding.</p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Motivation</h1>
<p id="rfc.section.1.1.p.1">In many cases, there are several ways to describe a resource within the scope of the media type.  In the case of XML documents, for instance, the same content can be encoded using one of several DTDs or XML Schemas, whereas in RDF there is a wide choice of RDF vocabularies (classes and properties) available to describe resources of the same type.  When a UA initiates a request, e.g., a GET request to retrieve or a PUT request to create or replace a resource, neither the UA nor the server have any possibility to exchange information on how the transmitted resource will be structured precisely. This document proposes a solution by defining the HTTP headers Accept-Profile and Content-Profile.</p>
<h1 id="rfc.section.1.2">
<a href="#rfc.section.1.2">1.2.</a> Terminology</h1>
<p id="rfc.section.1.2.p.1">In the context of this proposal, a "profile" is a document that expresses the structural and/or semantic constraints of other documents. Examples of "profile" in this context include, but are not limited to, Dublin Core application profiles - formally expressed in <a href="#DSP" class="xref">Description Set Profiles (DSP)</a> -, <a href="#XSD" class="xref">XML Schema documents</a> and RDF Shapes expressed in <a href="#SHACL" class="xref">SHACL</a>. How those profiles are used by consuming applications is beyond the scope of this proposal, but typical use cases are validation of data received from another system and the automated creation of objects from received data as in <a href="#XMLBEANS" class="xref">Java XMLBeans</a>. The choice of the term "profile"was derived from the term "Application Profile" which the Dublin Core community defines as "schemas which consist of data elements drawn from one or more namespaces, combined together by implementors, and optimised for a particular local application" <a href="#rachelandheery" class="xref">[Rachel &amp; Heery]</a>.  </p>
<h1 id="rfc.section.1.3">
<a href="#rfc.section.1.3">1.3.</a> High-level overview of solution</h1>
<h1 id="rfc.section.1.4">
<a href="#rfc.section.1.4">1.4.</a> Notational Conventions</h1>
<p id="rfc.section.1.4.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119" class="xref">RFC 2119</a>.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Related HTTP Headers</h1>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> Content-Type</h1>
<p><a href="#RFC7231" class="xref">RFC 7231</a> defines the Content-Type HTTP header for indicating the media type of a representation.  This header allows receipients to determine appropriate processing for a received message body, such as the parser they need to use.  A Content-Type field value contains a MIME type, such as text/html or application/json, and can optionally have parameters, such as charset.  </p>
<p id="rfc.section.2.1.p.2">In many current interactions, senders of HTTP messages underspecify the MIME type of their messages.  They opt for common, generic media types such as text/xml or application/json, whereas the contents of their messages actually implicitly conform to stricter assumptions.  These assumptions are communicated out of band and then silently (if at all) implemented by recipients.  Because those assunptions are not specified explicitly, clients cannot discover them at runtime to adjust their processing accordingly.  Minting new media types is possible, but this loses the formal relationship with the generic media type, which would need to be specified out of band.  </p>
<pre>
application/activity+json
						</pre>
<pre>
application/ld+json; profile="https://www.w3.org/ns/activitystreams"
						</pre>
<p id="rfc.section.2.1.p.3">The profile parameter, defined in <a href="#RFC6906" class="xref">RFC 6906</a>, can be used in the Content-Type field in addition to a MIME type to indicate a media-type-specific profile the representation conforms to.  Such profile parameters are often defined within the specification of document formats.  For instance, <a href="#AS2" class="xref">Activity Streams 2.0</a> defines the equivalent media types <a href="#RFC6839" class="xref">+json suffix</a> as a non-binding suggestion that the content conforms to application/json, and such an indicator does not exist for JSON-LD and most other media types.  As such, those clients are not informed about their possible ability to parse a message body as JSON or JSON-LD.  Clients that do have support for application/activity+json will likely need to involve JSON and JSON-LD parsers regardless.  </p>
<p id="rfc.section.2.1.p.4">The need to mint specific media types for profiles becomes a combinatorial issue when profiles can apply to multiple media types, or when representations can conform to multiple profiles.  This document introduces a solution by considering profiles as an additional, independent dimension in content negotiation.  </p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> Accept</h1>
<p id="rfc.section.2.2.p.1">The Accept header defined in <a href="#RFC7231" class="xref">RFC 7231</a> is the counterpart of the Content-Type header.  Whereas Content-Type indicates the option the sender has chosen for representing the message body, Accept communicates the receipient's representation preferences beforehand.  </p>
<p id="rfc.section.2.2.p.2">The value of an Accept header field is a comma-separated list of MIME types, each of which can optionally have parameters.  The q parameter is a number between 0.0 and 1.0 indicating the degree of preference for that MIME type.  Analogously to the Content-Type field, the profile parameter defined in <a href="#RFC6906" class="xref">RFC 6906</a> can be used to indicate a preference for a media-type-specific profile.  </p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Content-Location</h1>
<pre>
GET /some/resource HTTP/1.1
Accept: application/ld+json;
        profile="https://www.w3.org/ns/activitystreams"
						</pre>
<pre>
HTTP/1.1 200 OK
Content-Type: application/ld+json;
              profile="https://www.w3.org/ns/activitystreams"
Content-Location: /some/resource.as.jsonld
						</pre>
<p id="rfc.section.2.3.p.1">The Content-Location header (<a href="#RFC7231" class="xref">RFC 7231</a>) can be used to provide an identifier for the specific representation of a resource that is enclosed in the message body.  For example, when a user agent issues the following request for /some/resource: </p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> Link</h1>
<p id="rfc.section.2.4.p.1">The Link header (<a href="#RFC8288" class="xref">RFC 8288</a>) allows the sender of a message to model additional relationships from the represented resource to others.  Such relations are expressed as a link to a target with a relation type and, optionally, target attributes.  Of particular interest for content negotiation are the self and alternate relation types, whose targets identify respectively the current representation and other existing representations.  The Link header can thereby serve as a mechanism for discovering supported representations and profiles.  The profile relation type defined in <a href="#RFC6906" class="xref">RFC 6906</a> can be used to relate a representation to a profile to which it conforms.  </p>
<p id="rfc.section.2.4.p.2">The self relation type overlaps with the functionality provided by the Content-Location field, and they will likely use the same identifier.  The alternate relation essentially provides Content-Location functionality for other available representations.  Finally, the profile relation type mimics the profile parameter in the Content-Type field, except that conformance of a representation to multiple profiles could be expressed through multiple profile links, whereas Content-Type only accepts one profile parameter.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> New http Headers</h1>
<p id="rfc.section.3.p.1">The "Accept-Profile" and "Content-Profile" header fields can be sent by both the UA and the server. The "Accept-Profile" header is used to specify one or more profiles the Agent can accept, whereas the "Content-Profile" header tells the other Agent which profile or profiles the payload of the message conforms to.  So can a UA issuing a request for a resource specify that it prefers persons to be described using foaf, but that the BBC Core ontology is also acceptable, and that it can only accept text/turtle, by setting the "Accept" and "Accept-Profile" header fields appropriately.  When the server answers, it would set the "Content-Type" and "Content-Profile" header fields.  Likewise, a UA sending an XML document to a server would set	the "Content-Type" and the "Content-Profile" header fields.  If the server cannot process the specified profile, it would answer with an http 406 status code and possibly a list of acceptable profiles.</p>
<p id="rfc.section.3.p.2">The "Accept-Profile" and "Content-Profile" header fields do not contain the actual profile but instead points to it using a URI.  As long as the URI 	is only used to denote the profile, it does not need to point to an	actual document but can be considered opaque.  If the parties involved agree on a profile definition, the profile can be identified with e. g. a URN or an info-URI.  When a protocol-based URI is used, such as an FTP- or an HTTP-URI	is used, however, it is RECOMMENDED that it dereference to a document containing the profile definition.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Accept-Profile Header Syntax</h1>
<p id="rfc.section.3.1.p.1">The "Accept-Profile" header field is used to specify one or more content profiles the issuing agent can accept for processing.  Each profile is identified by a URI reference inside angle brackets ("&lt;&gt;").  URI references MUST be absolute URIs.  If several profiles are specified, quality values as defined in <a href="#RFC7230" class="xref">Section 5.3.1 of RFC 7230</a> can be used to assign a relative "weight" to the preference.  Exactly how that weight is used to determine the best representation is beyond the scope of this specification.</p>
<p id="rfc.section.3.1.p.2">A request without any "Accept-Profile" header field implies that the user agent will accept content conforming to any profile.  If the header field is present in a request and the origin server cannot provide a representation that conforms to the specified profile, it can either honor the header field by sending a 406 (Not	Acceptable) response or disregard the header field by treating the	response as if it is not subject to content negotiation.  If the the origin server chooses to disregard the header field and the profile the content conforms to is known, the origin server SHOULD send an "AcceptProfile" header indicating that profile	together with the payload.</p>
<p id="rfc.section.3.1.p.3">An agent that wants to indicate that several profiles are acceptable, can either submit one Accept-Profile field for every profile that is acceptable (possibly specifying q-values for each profile URI) or it can decide to combine all profile-URIs into a comma-separated list and send that list in a single Accept-Profile field.  A recipient MUST treat a list of profile URIs in a single Accept-Profile field and multiple Accept-Profile fields as equivalent as specified in <a href="#RFC7230" class="xref">Section 3.2.2 of RFC 7230</a>.</p>
<p><a href="#abnf_accept_profile" class="xref">Figure 1</a> describes the syntax (Augmented Backus-Naur Form) of the Accept-Profile header fields, using the grammar defined in <a href="#RFC5234" class="xref">RFC 5234</a> and the rules defined in <a href="#RFC7230" class="xref">Section 3.2 of RFC 7230</a>.  The definitions of "URI-reference" and "weight" are imported from <a href="#RFC7230" class="xref">RFC 7230</a> and <a href="#RFC7231" class="xref">RFC 7231</a>, respectively.</p>
<div id="rfc.figure.1"></div>
<div id="abnf_accept_profile"></div>
<p>Accept-Profile header syntax</p>
<pre>
Accept-Profile = "Accept-Profile" ":" (profile-value) *("," profile-value)
profile-value =  "&lt;" URI-reference "&gt;" [weight] 
					</pre>
<p class="figure">Figure 1</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Content-Profile Header Syntax</h1>
<p id="rfc.section.3.2.p.1">The "Content-Profile" header field is used to specify a profile the payload in the message conforms to.  The profile is identified by a URI reference that MUST be an absolute URI.  If a user agent uses the "Accept-Profile" header to specify one or more profiles it is willing to accept and a server does not use the "Content-Profile"	header to specify which profile the returned content conforms to, the user agent MAY process the returned content as it deems fit.</p>
<p id="rfc.section.3.2.p.2">The Content-Profile field MAY contain a comma-separated list of profile-URIs.  In that case the recipient SHOULD interpret this as if the payload of the message conforms to all of the profiles identified by the supplied profile URIs.  Instead of sending a comma-separated list of profile URIs in the Content-Profile header field, and agent MAY choose to send each profile URI in its own Content-Profile header field.  Receivers MUST treat those two variants as equal.</p>
<p id="rfc.section.3.2.p.3">If a user agent uses the "Content-Profile" header field to indicate the profile the	payload conforms to (e. g. in an HTTP POST or PUT request) and the	server cannot process content conforming to that profile, the	server SHOULD send a 406 (Not acceptable) response together with an "Accept-Profile"	header field (including q-values) to indicate which profiles it can process.</p>
<p><a href="#abnf_content_profile" class="xref">Figure 2</a> describes the syntax (Augmented Backus-Naur Form) of the header fields, using the grammar defined in <a href="#RFC5234" class="xref">RFC 5234</a> and the rules defined in <a href="#RFC7230" class="xref">Section 3.2 of RFC 7230</a>.  The definition of "URI-reference" is imported from <a href="#RFC7230" class="xref">RFC 7230</a>.</p>
<div id="rfc.figure.2"></div>
<div id="abnf_content_profile"></div>
<p>Profile header syntax</p>
<pre>
Content-Profile = "Content-Profile" ":"  "&lt;" URI-reference "&gt;" *("," "&lt;" URI-reference "&gt;")
					</pre>
<p class="figure">Figure 2</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Content Negotiation</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Mechanisms</h1>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Examples</h1>
<div id="rfc.figure.3"></div>
<div id="example_1"></div>
<p id="rfc.section.4.2.p.1">The following examples highlight the exchange of profile information between a user agent and a server. For clarity, the examples only contain minimal information, i. e.  only the relevant headers are included and message bodies are ignored.  </p>

<p>A user agent requests an XML document conforming to a specific XML schema.  The XML schema is identified by "urn:example:schema:e-commerce-payment".</p>
<pre>
Request:
GET /some-resource HTTP/1.1
Accept: application/xml
Accept-Profile: &lt;urn:example:schema:e-commerce-payment&gt;

Response:
HTTP/1.1 200 OK
Content-Type: application/xml
Profile: &lt;urn:example:schema:e-commerce-payment&gt;
Link: 	rel="self";
		type="application/xml";
		profile="&lt;urn:example:schema:e-commerce-payment&gt;",
		rel="alternate";
		type="application/xml";
		profile="&lt;urn:example:schema:e-commerce-accounting&gt;"
						</pre>
<p class="figure">Figure 3</p>
<div id="rfc.figure.4"></div>
<div id="example_2"></div>
<p>A user agent requests an RDF/XML document conforming to one of two RDF Shapes (http://example.com/shapes/shape-1 and http://example.com/shapes/shape-2).  It uses q-values to express a preference for shape-1, the server, however, prefers to deliver in shape-2.</p>
<pre>
Request:
GET /some-resource HTTP/1.1
Accept: application/rdf+xml
Accept-Profile: &lt;http://example.com/shapes/shape-1&gt;; q=0.8,
               &lt;http://example.com/shapes/shape-2&gt;; q=0.5

Response:
HTTP/1.1 200 OK
Content-Type: application/rdf+xml
Profile: &lt;http://example.com/shapes/shape-2&gt;
Link:	rel="self";
		type="application/rdf+xml";
		profile="&lt;http://example.com/shapes/shape-2&gt;",
		rel="alternate";
		type="application/rdf+xml";
		profile="&lt;http://example.com/shapes/shape-3&gt;"
						</pre>
<p class="figure">Figure 4</p>
<div id="rfc.figure.5"></div>
<div id="example_3"></div>
<p>A user agent PUTs a turtle document conforming to the RDF Shape http://example.com/shapes/shape-1. The server answers that it can only process documents conforming to http://example.com/shapes/shape-2.</p>
<pre>
Request:
PUT /some-resource HTTP/1.1
Profile: &lt;http://example.com/shapes/shape-1&gt;

Response:
HTTP/1.1 406 Not acceptable
Content-Type: application/xhtml+xml
Accept-Profile: &lt;http://example.com/shapes/shape-2&gt;
						</pre>
<p class="figure">Figure 5</p>
<div id="rfc.figure.6"></div>
<div id="example_4"></div>
<p>A user agent requests an XML document where the elements in namespace urn:example:namespaces:ns1 must conform to XML schema http://example.com/schema/schema-1 and the elements in namespace urn:example:namespaces:ns2 must conform to XML schema http://example.com/schema/schema-2. The server answers that it can supply the document as requested.</p>
<pre>
Request:
GET /some-resource HTTP/1.1
Accept-Profile: 	&lt;urn:example:namespaces:ns1
				http://example.com/schema/schema-1
				urn:example:namespaces:ns2
				http://example.com/schema/schema-2&gt;

Response:
HTTP/1.1 200 OK
Content-Type: application/xml
Profile: &lt;urn:example:namespaces:ns1
		http://example.com/schema/schema-1
		urn:example:namespaces:ns2
		http://example.com/schema/schema-2&gt;
						</pre>
<p class="figure">Figure 6</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.5.p.1">This specification defines two header field for the Hypertext Transfer Protocol (HTTP) that have been registered with the Internet Assigned Numbers Authority (IANA) following the "Registration Procedures for Message Header Fields" <a href="#RFC3864" class="xref">RFC 3864</a>.  [TO BE REMOVED: This registration should take place at the following location: http://www.iana.org/assignments/message-headers/message-headers.xhtml] Further, it defines a parameter for the "Link" header. There is no registry for link-param except for the values listed in <a href="#RFC8288" class="xref">RFC 8288</a> so the parameter "profile" will be seen as a link-extension.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#iana_accept_profile" id="iana_accept_profile">Accept-Profile HTTP Header Registration</a>
</h1>
<p id="rfc.section.5.1.p.1">The Accept-Profile header should be added to the permanent registry of message header fields (see <a href="#RFC3864" class="xref">RFC 3864</a>), taking into account the guidelines given by HTTP/1.1 <a href="#RFC7231" class="xref">RFC 7231</a>".</p>
<p id="rfc.section.5.1.p.2">Header Field Name: Accept-Profile</p>
<p id="rfc.section.5.1.p.3">Applicable Protocol: Hypertext Transfer Protocol (HTTP)</p>
<p id="rfc.section.5.1.p.4">Status: Informational</p>
<p id="rfc.section.5.1.p.5">Author/Change controller: IETF</p>
<p id="rfc.section.5.1.p.6">Specification document(s): RFC XXXX</p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#iana_content_profile" id="iana_content_profile">Content-Profile HTTP Header Registration</a>
</h1>
<p id="rfc.section.5.2.p.1">The Content-Profile header should be added to the permanent registry of message header fields (see <a href="#RFC3864" class="xref">RFC 3864</a>), taking into account the guidelines given by HTTP/1.1 <a href="#RFC7231" class="xref">RFC 7231</a>".</p>
<p id="rfc.section.5.2.p.2">Header Field Name: Content-Profile</p>
<p id="rfc.section.5.2.p.3">Applicable Protocol: Hypertext Transfer Protocol (HTTP)</p>
<p id="rfc.section.5.2.p.4">Status: Informational</p>
<p id="rfc.section.5.2.p.5">Author/Change controller: IETF</p>
<p id="rfc.section.5.2.p.6">Specification document(s): RFC XXXX</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.6.p.1">The Accept-Profile and Content-Profile headers may expose information that a User Agent or an origin server would prefer to not publish.  In such a case, a server can simply stop exposing the header, in which case HTTP interactions would be back to the level of standard HTTP (i.e., with no indication what profiles the	UA or the server prefer and/or can handle).</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.7.p.1">This is the place to have YOUR NAME prominently displayed!</p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">8.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a>Bradner, S.</a>, "<a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5234">[RFC5234]</b></td>
<td class="top">
<a>Crocker, D.</a> and <a>P. Overell</a>, "<a href="https://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>", STD 68, RFC 5234, DOI 10.17487/RFC5234, January 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7230">[RFC7230]</b></td>
<td class="top">
<a>Fielding, R.</a> and <a>J. Reschke</a>, "<a href="https://tools.ietf.org/html/rfc7230">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>", RFC 7230, DOI 10.17487/RFC7230, June 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7231">[RFC7231]</b></td>
<td class="top">
<a>Fielding, R.</a> and <a>J. Reschke</a>, "<a href="https://tools.ietf.org/html/rfc7231">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a>", RFC 7231, DOI 10.17487/RFC7231, June 2014.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">8.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="AS2">[AS2]</b></td>
<td class="top">
<a title="IBM">Snell, J.</a> and <a title="Fuzzy.ai">E. Prodromou</a>, "<a href="https://www.w3.org/TR/activitystreams-core/">Activity Streams 2.0</a>", 2017.</td>
</tr>
<tr>
<td class="reference"><b id="DSP">[DSP]</b></td>
<td class="top">
<a title="KTH">Nilsson, M.</a>, "<a href="http://dublincore.org/documents/dc-dsp/">Description Set Profiles: A constraint language for Dublin Core Application Profiles</a>", 2008.</td>
</tr>
<tr>
<td class="reference"><b id="IANAMEDIAREG">[IANAMEDIAREG]</b></td>
<td class="top">
<a>IANA</a>, "<a href="http://www.iana.org/assignments/media-types/">Media Types</a>", 2015.</td>
</tr>
<tr>
<td class="reference"><b id="JSONLD">[JSONLD]</b></td>
<td class="top">
<a title="Digital Bazaar">Sporny, M.</a>, <a title="Kellogg Associates">Kellogg, G.</a> and <a title="Graz University of Technology">M. Lanthaler</a>, "<a href="http://www.w3.org/TR/json-ld/">JSON-LD 1.0: A JSON-based Serialization for Linked Data</a>", 2015.</td>
</tr>
<tr>
<td class="reference"><b id="rachelandheery">[rachelandheery]</b></td>
<td class="top">
<a title="UK Office for Library and Information networking (UKOLN), University of Bath">Heery, R.</a> and <a title="UK Office for Library and Information networking (UKOLN), University of Bath">M. Patel</a>, "<a href="http://www.ariadne.ac.uk/issue25/app-profiles">Application Profiles: Mixing and Matching Metadata Schemas</a>", 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3236">[RFC3236]</b></td>
<td class="top">
<a>Baker, M.</a> and <a>P. Stark</a>, "<a href="https://tools.ietf.org/html/rfc3236">The 'application/xhtml+xml' Media Type</a>", RFC 3236, DOI 10.17487/RFC3236, January 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3864">[RFC3864]</b></td>
<td class="top">
<a>Klyne, G.</a>, <a>Nottingham, M.</a> and <a>J. Mogul</a>, "<a href="https://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>", BCP 90, RFC 3864, DOI 10.17487/RFC3864, September 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3870">[RFC3870]</b></td>
<td class="top">
<a>Swartz, A.</a>, "<a href="https://tools.ietf.org/html/rfc3870">application/rdf+xml Media Type Registration</a>", RFC 3870, DOI 10.17487/RFC3870, September 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6839">[RFC6839]</b></td>
<td class="top">
<a>Hansen, T.</a> and <a>A. Melnikov</a>, "<a href="https://tools.ietf.org/html/rfc6839">Additional Media Type Structured Syntax Suffixes</a>", RFC 6839, DOI 10.17487/RFC6839, January 2013.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6906">[RFC6906]</b></td>
<td class="top">
<a>Wilde, E.</a>, "<a href="https://tools.ietf.org/html/rfc6906">The 'profile' Link Relation Type</a>", RFC 6906, DOI 10.17487/RFC6906, March 2013.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7240">[RFC7240]</b></td>
<td class="top">
<a>Snell, J.</a>, "<a href="https://tools.ietf.org/html/rfc7240">Prefer Header for HTTP</a>", RFC 7240, DOI 10.17487/RFC7240, June 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8288">[RFC8288]</b></td>
<td class="top">
<a>Nottingham, M.</a>, "<a href="https://tools.ietf.org/html/rfc8288">Web Linking</a>", RFC 8288, DOI 10.17487/RFC8288, October 2017.</td>
</tr>
<tr>
<td class="reference"><b id="SHACL">[SHACL]</b></td>
<td class="top">
<a title="TopQuadrant, Inc.">Knublauch, H.</a> and <a>A. Ryman</a>, "<a href="http://www.w3.org/TR/shacl/">Shapes Constraint Language (SHACL): W3C First Public Working Draft 08 October 2015</a>", 2014.</td>
</tr>
<tr>
<td class="reference"><b id="TURTLE">[TURTLE]</b></td>
<td class="top">
<a title="W3C">Prud'hommeaux, E.</a> and <a title="Lex Machina, Inc.">G. Carothers</a>, "<a href="http://www.w3.org/TR/turtle/">RDF 1.1 Turtle</a>", 2014.</td>
</tr>
<tr>
<td class="reference"><b id="XMLBEANS">[XMLBEANS]</b></td>
<td class="top">
<a>Apache Software Foundation</a>, "<a href="https://xmlbeans.apache.org/">XMLBeans</a>", 2014.</td>
</tr>
<tr>
<td class="reference"><b id="XMLSCHEMA">[XMLSCHEMA]</b></td>
<td class="top">
<a title="IBM">Gao, S.</a>, <a title="Black Mesa Technologies LLC">Sperberg-McQueen, C.</a> and <a title="University of Edinburgh">H. Thompson</a>, "<a href="https://www.w3.org/TR/xmlschema11-1/">W3C XML Schema Definition Language (XSD) 1.1 Part 1: Structures</a>", 2012.</td>
</tr>
<tr>
<td class="reference"><b id="XSD">[XSD]</b></td>
<td class="top">
<a title="University of Edinburgh">Thompson, H.</a>, <a title="Oracle Corporation">Beech, D.</a>, <a title="Commerce One">Maloney, M.</a> and <a title="Lotus Development Corporation">N. Mendelsohn</a>, "<a href="http://www.w3.org/TR/xmlschema-1/">XML Schema Part 1: Structures Second Edition</a>", 2004.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Lars G. Svensson</span> 
	  <span class="n hidden">
		<span class="family-name">Svensson</span>
	  </span>
	</span>
	<span class="org vcardline">Deutsche Nationalbibliothek</span>
	<span class="adr">
	  <span class="vcardline">Adickesallee 1</span>

	  <span class="vcardline">
		<span class="locality">Frankfurt</span>,  
		<span class="region"></span>
		<span class="code">60322</span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">Phone: +49 69 1525 1752</span>

<span class="vcardline">EMail: <a href="mailto:l.svensson@dnb.de">l.svensson@dnb.de</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Ruben Verborgh</span> 
	  <span class="n hidden">
		<span class="family-name">Verborgh</span>
	  </span>
	</span>
	<span class="org vcardline">Ghent University &#8211; imec</span>
	<span class="adr">
	  <span class="vcardline">Sint-Pietersnieuwstraat 41</span>

	  <span class="vcardline">
		<span class="locality">Ghent</span>,  
		<span class="region"></span>
		<span class="code">9000</span>
	  </span>
	  <span class="country-name vcardline">Belgium</span>
	</span>
	<span class="vcardline">Phone: +32 9 331 49 10</span>

<span class="vcardline">EMail: <a href="mailto:ruben.verborgh@ugent.be">ruben.verborgh@ugent.be</a></span>

  </address>
</div>

</body>
</html>
